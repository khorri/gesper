<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://axelor.com/xml/ns/object-views
  http://axelor.com/xml/ns/object-views/object-views_4.0.xsd">


    <action-view name="sanction.all" model="com.axelor.rh.db.Sanction" title="Sanctions">
        <view name="sanction-rh-grid" type="grid"/>
        <view name="sanction-rh-form" type="form"/>
        <domain>self.employee.id = :id</domain>
        <context name="id" expr="eval: id"/>
    </action-view>

    <grid name="sanction-rh-grid" title="Sanctions" model="com.axelor.rh.db.Sanction" edit-icon="true">
        <field name="nature"/>
        <field name="dateeffet"/>
        <field name="period"/>
        <field name="motif"/>
    </grid>

    <form name="sanction-rh-form" title="Sanction"
          model="com.axelor.rh.db.Sanction" onNew="sanction-employe-call">

        <panel name="main">
            <field name="decision.status" showTitle="false" widget="NavSelect" colSpan="12"/>
            <field name="nature"/>
            <field name="dateeffet"/>
            <field name="period"/>
            <field name="motif"/>
            <field name="grade"/>
            <field name="employee"/>
            <field name="employee.echelon" readonly="true"/>
            <field name="decision"/>
            <field name="archived"/>
        </panel>
        <panel name="actions" title="Actions" sidebar="true" stacked="true" colSpan="3">
            <button name="createButton" title="CrÃ©er" css="btn-info" colSpan="4" icon="fa-plus" onClick="save,close"/>
            <button name="validateButton" title="Validate"  colSpan="4" icon="fa-check"/>
            <button name="refuseButton" title="Refuse" css="btn-danger" colSpan="4" icon="fa-close"/>
            <button name="cancelButton" title="Cancel" css="btn-warning" colSpan="4" icon="fa-ban"/>
        </panel>
        <panel title="Decision" >
            <field  name="decision" showTitle="false" canEdit="false" canNew="false" colSpan="12">
                <editor >
                    <field name="attachement" canNew="true" canAttach="true" widget="binary"/>
                    <field name="decisionCode" colSpan="3"/>
                    <field name="emitteur" colSpan="3"/>
                    <field name="entreprise" colSpan="3"/>
                    <field name="decisionDate" colSpan="3"/>
                    <field name="motifRejet" colSpan="3"/>
                </editor>
            </field>
        </panel>
    </form>
    <action-record name="sanction-employe"
    		model="com.axelor.rh.db.Employe" search="('self.id = ?1', id)">
    	<field name="employee" expr="eval:employee?.firstName" />
    </action-record>
    <action-record name="sanction-employe-call"
    		model="com.axelor.rh.db.Employe">
      	<field name="employee" expr="action:sanction-employe" />
    </action-record>
</object-views>